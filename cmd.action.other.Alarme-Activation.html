<div style="width:90px;height:100%;vertical-align: top;" class="cmd tooltips cmd-widget cursor #history#" data-type="action" data-subtype="other" data-cmd_id="#id#" data-cmd_uid="#uid#" data-version="#version#" data-eqLogic_id="#eqLogic_id#" title="#collectDate#">
     <!-- Info Widget
        Basé sur les widget de 	: ksoul78 / jimmy / snow51
        Mise à jour				: JAG 20190516 : Nettoyage du code
    -->
    <center>
        <div class="cmdName #hide_name#">#valueName#</div>
        <span class="iconCmd#id# cursor"></span>
    </center>
    <script>
        jeedom.cmd.update['#id#'] = function(_options){
        // Paramètrage du logo
  			// Valeur pour ON ou 1
      			var srcImglogoON	= ('#logoON-M#'!='#'+'logoON-M#') ? "#logoON-M#" : "alarm-status-T0-lock";
      			var srcImglogoON_T 	= ('#logoON_type-M#'!='#'+'logoON_type-M#') ? "#logoON_type-M#" : "png";
			// Valeur pour OFF ou 0
      			var srcImglogoOFF	= ('#logoOFF-M#'!='#'+'logoOFF-M#') ? "#logoOFF-M#" : "alarm-status-T0-unlock";
				var srcImglogoOFF_T = ('#logoOFF_type-M#'!='#'+'logoOFF_type-M#') ? "#logoOFF_type-M#" : "png";
		// Paramètre "sizeh" & "sizew"
				var srcImgHeight	= is_numeric('#sizeh-M#') ? parseFloat('#sizeh-M#'):80;
				var srcImgWidth 	= is_numeric('#sizew-M#') ? parseFloat('#sizew-M#'):80;
  				var srcImgSize 		= 'height='+srcImgHeight+'px width='+srcImgWidth+'px';
		// Paramétrage des images
				var srcImgURL 		= 'plugins/widget/core/template/dashboard/cmd.action.other.Alarme-Activation/';

            if (_options.display_value == '1' || _options.display_value == 1 || _options.display_value == '99' || _options.display_value == 99 || _options.display_value == 'on') {
                if (jeedom.cmd.normalizeName('#name#') == 'on') {
                    $('.cmd[data-cmd_id=#id#]').hide();
                }else{
                    $('.cmd[data-cmd_id=#id#]').show();
                    $('.cmd[data-cmd_id=#id#] .iconCmd#id#').empty().append('<img src="'+srcImgURL +srcImglogoON +'.'+ srcImglogoON_T+'" '+srcImgSize+'>');
                }
            } else {
                if (jeedom.cmd.normalizeName('#name#') == 'off') {
                    $('.cmd[data-cmd_id=#id#]').hide();
                }else{
                    $('.cmd[data-cmd_id=#id#]').show();
                    $('.cmd[data-cmd_id=#id#] .iconCmd#id#').empty().append('<img src="'+srcImgURL +srcImglogoOFF +'.'+ srcImglogoOFF_T+'" '+srcImgSize+'>');
                }
            }
        }
        jeedom.cmd.update['#id#']({display_value:'#state#'});
        $('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').off().on('click', function () {
            jeedom.cmd.execute({id: '#id#'});
        });
    </script>
</div>